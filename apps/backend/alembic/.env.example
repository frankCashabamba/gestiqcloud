# Example environment variables for the backend (apps/backend).
# Copy this to `.env.local`, fill in secrets and production hostnames, and keep it out of source control.

#########################
# General configuration #
#########################
ENV=development
ENVIRONMENT=development
APP_NAME=GestiqCloud
APP_VERSION=0.1.0
DEBUG=True
LOG_LEVEL=INFO
SECRET_KEY=change-me-please-generate-32-char
ENV_FILE=
ENV_FILE_USED=

###########################
# Frontend / CORS / host   #
###########################
FRONTEND_URL=http://localhost:8081
FRONTEND_MODULES_PATH=C:\Users\pc_cashabamba\Documents\GitHub\proyecto\apps\tenant\src\modules
ALLOWED_HOSTS=localhost,127.0.0.1
CORS_ORIGINS=http://localhost:8081,http://localhost:8082
CORS_ALLOW_ORIGIN_REGEX=
CORS_ALLOW_CREDENTIALS=True
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Authorization,Content-Type,X-CSRF-Token,X-CSRFToken,X-CSRF,X-Client-Version,X-Client-Revision
SESSION_COOKIE_NAME=sessionid
CSRF_COOKIE_NAME=csrf_token
COOKIE_DOMAIN=
COOKIE_SECURE=False
COOKIE_SAMESITE=none
REFRESH_ENFORCE_FINGERPRINT=False
ALLOW_EMBED=False
HSTS_ENABLED=False
REFERRER_POLICY=strict-origin-when-cross-origin
PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=(), payment=()
COOP_ENABLED=False
COEP_ENABLED=False
CORP_POLICY=same-site

############################
# Authentication / JWT     #
############################
JWT_ALGORITHM=HS256
JWT_SECRET_KEY=dev-jwt-secret-secret-secret
JWT_PRIVATE_KEY=
JWT_PUBLIC_KEY=
JWT_ADDITIONAL_PUBLIC_KEYS=[]
JWT_ISSUER=gestiqcloud
JWT_AUDIENCE=
JWT_LEEWAY_SECONDS=30
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=30

###########################
# Database / ORM / RLS     #
###########################
DATABASE_URL=postgresql://postgres:root@localhost:5432/gestiqclouddb_dev
DB_DSN=postgresql://postgres:root@localhost:5432/gestiqclouddb_dev
POOL_SIZE=5
MAX_OVERFLOW=10
POOL_TIMEOUT=10
DB_STATEMENT_TIMEOUT_MS=15000
RUN_MIGRATIONS=1
RUN_ALEMBIC=1
RUN_LEGACY_MIGRATIONS=0
RUN_RLS_APPLY=1
ORM_BOOTSTRAP=1
RLS_SCHEMAS=app,public
RLS_SET_DEFAULT=True
UVICORN_LOG_LEVEL=info
PORT=8000

###########################
# Redis / Celery / Cache   #
###########################
REDIS_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
ENABLE_EINVOICING_BEAT=False
IMPORTS_RUNNER_MODE=celery
IMPORTS_ENABLED=1

###########################
# Email / Notifications    #
###########################
EMAIL_HOST=sandbox.smtp.mailtrap.io
EMAIL_PORT=2525
EMAIL_USE_TLS=True
EMAIL_USE_SSL=False
EMAIL_HOST_USER=f118fcff5ebdcc
EMAIL_HOST_PASSWORD=2116cc775c1eb2
DEFAULT_FROM_EMAIL="GestiqCloud <no-reply@gestiqcloud.com>"
EMAIL_DEV_LOG_ONLY=False
EMAIL_TEST_ENDPOINT_ENABLED=False
PASSWORD_RESET_URL_BASE=
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASSWORD=

###########################
# Uploads / Static         #
###########################
UPLOADS_DIR=uploads
UPLOADS_MOUNT_ENABLED=True
MAX_REQUEST_BYTES=5242880
GZIP_ENABLED=True

###########################
# Imports / OCR / pipeline #
###########################
IMPORTS_MAX_FILE_SIZE_MB=16
IMPORTS_MAX_PDF_PAGES=20
IMPORTS_MAX_UPLOAD_MB=50
IMPORTS_MAX_ITEMS_PER_BATCH=5000
IMPORTS_MAX_INGESTS_PER_MIN=10
IMPORTS_ALIASES_FILE=
IMPORTS_VALIDATE_CURRENCY=True
IMPORTS_REQUIRE_CATEGORIES=False
IMPORTS_SECURITY_BYPASS=0
IMPORTS_ENABLE_AV_SCAN=True
IMPORTS_REJECT_PDF_JS=True
IMPORTS_ENABLE_QR=1
IMPORTS_OCR_CACHE=1
IMPORTS_OCR_DPI=150
IMPORTS_OCR_LANG=spa+eng
IMPORTS_TESSERACT_CMD=C:\Program Files\Tesseract-OCR\tesseract.exe
IMPORTS_OCR_PSM=6
IMPORTS_OCR_WORKERS=2
IMPORTS_MAX_PAGES=20
IMPORTS_SKIP_NATIVE_PDF=1
OMP_THREAD_LIMIT=1
IMPORT_AI_PROVIDER=local
IMPORT_AI_CONFIDENCE_THRESHOLD=0.7
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo
AZURE_OPENAI_KEY=
AZURE_OPENAI_ENDPOINT=
IMPORT_AI_CACHE_ENABLED=1
IMPORT_AI_CACHE_TTL=86400
IMPORT_AI_LOG_TELEMETRY=1
OLLAMA_URL=
OLLAMA_MODEL=

###########################
# Module toggles / extras  #
###########################
ENABLE_ACCOUNTING_MODULE=True
ENABLE_NOMINAS_MODULE=False
ENABLE_PRODUCTION_MODULE=False
COPILOT_TENANT_ENABLED=False
API_URL=http://localhost:8000
TEST_MINIMAL=False
CERT_STORAGE_PATH=./certs
SRI_ENV=dev

###########################
# Payments / Webhooks      #
###########################
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
KUSHKI_ENV=dev
KUSHKI_MERCHANT_ID=
KUSHKI_PUBLIC_KEY=
KUSHKI_PRIVATE_KEY=
KUSHKI_WEBHOOK_SECRET=
PAYPHONE_ENV=dev
PAYPHONE_STORE_ID=
PAYPHONE_TOKEN=
PAYPHONE_WEBHOOK_SECRET=
INVOICE_PDF_TEMPLATE=

###########################
# Telemetry / Observability #
###########################
OTEL_SERVICE_NAME=gestiqcloud-backend
OTEL_EXPORTER_OTLP_ENDPOINT=

###########################
# E-invoicing              #
###########################
EINV_TENANT_ID=
EINV_SII_PERIOD_MODE=
EINV_RETRY_MAX=3

###########################
# Migration helpers        #
###########################
MIGRATIONS_DIR=alembic/versions
RENDER_MIGRATE_JOB_ID=
RENDER_API_KEY=

###########################
# Security / Rate limiting #
###########################
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MIN=60
DISABLE_REDIS=False

###########################
# Tenants / namespaces     #
###########################
TENANT_NAMESPACE_UUID=00000000-0000-0000-0000-000000000000
ADMIN_SYSTEM_TENANT_ID=00000000-0000-0000-0000-000000000000
