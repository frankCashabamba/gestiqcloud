name = "edge-gateway"
main = "edge-gateway.js"
compatibility_date = "2024-10-01"
workers_dev = false

Rutas del Worker (puedes gestionarlas también desde el dashboard)
routes = [
{ pattern = "admin.gestiqcloud.com/api/", zone_name = "gestiqcloud.com" },
{ pattern = "www.gestiqcloud.com/api/", zone_name = "gestiqcloud.com" }
]

[vars]

Debe llamarse TARGET porque tu worker lee env.TARGET
TARGET = "https://gestiqcloud-api.onrender.com"

Orígenes permitidos (evita el root domain si no lo usas desde frontend)
ALLOWED_ORIGINS = "https://admin.gestiqcloud.com,https://www.gestiqcloud.com"

Reescritura de cookies para subdominios
COOKIE_DOMAIN = ".gestiqcloud.com"

HSTS ON
HSTS_ENABLED = "1"