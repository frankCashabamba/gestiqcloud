name = "edge-gateway"
main = "edge-gateway.js"
compatibility_date = "2024-10-01"

# Configure your route in Cloudflare dashboard or here:
# routes = [
#   { pattern = "api.gestiqcloud.com/*", zone_name = "gestiqcloud.com" }
# ]

[vars]
# Backend origin base (Render service URL)
# Example: "https://gestiqcloud-api.onrender.com"
UPSTREAM_BASE = "https://REPLACE-WITH-YOUR-BACKEND"

# Allowed CORS origins (comma-separated)
ALLOWED_ORIGINS = "https://gestiqcloud.com,https://www.gestiqcloud.com,https://admin.gestiqcloud.com"

# Cookie domain for Set-Cookie rewriting
COOKIE_DOMAIN = ".gestiqcloud.com"

# Enable HSTS header over HTTPS
HSTS_ENABLED = "1"

